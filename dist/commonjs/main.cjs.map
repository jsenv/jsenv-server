{"version":3,"file":"main.cjs","sources":["../../src/acceptsContentType.js","../../src/internal/compositionMappingToComposeStrict.js","../../src/internal/compositionMappingToCompose.js","../../src/internal/composeResponseHeaders.js","../../src/composeResponse.js","../../src/convertFileSystemErrorToResponseProperties.js","../../node_modules/@jsenv/logger/src/LOG_LEVELS.js","../../node_modules/@jsenv/logger/src/createLogger.js","../../src/internal/observable.js","../../src/createSSERoom.js","../../node_modules/@jsenv/core/src/internal/bundling/import-meta-commonjs.js","../../node_modules/@jsenv/cancellation/src/createCancellationToken.js","../../node_modules/@jsenv/cancellation/src/internal/memoizeOnce.js","../../node_modules/@jsenv/cancellation/src/operation/createOperation.js","../../node_modules/@jsenv/cancellation/src/operation/createStoppableOperation.js","../../node_modules/@jsenv/cancellation/src/operation/firstOperationMatching.js","../../node_modules/@jsenv/cancellation/src/cancelError.js","../../node_modules/@jsenv/cancellation/src/composeCancellationToken.js","../../node_modules/@jsenv/cancellation/src/internal/arrayHelper.js","../../node_modules/@jsenv/cancellation/src/createCancellationSource.js","../../node_modules/@jsenv/util/src/internal/ensureUrlTrailingSlash.js","../../node_modules/@jsenv/util/src/isFileSystemPath.js","../../node_modules/@jsenv/util/src/fileSystemPathToUrl.js","../../node_modules/@jsenv/util/src/assertAndNormalizeDirectoryUrl.js","../../node_modules/@jsenv/util/src/assertAndNormalizeFileUrl.js","../../node_modules/@jsenv/util/src/urlToFileSystemPath.js","../../node_modules/@jsenv/util/src/internal/permissions.js","../../node_modules/@jsenv/util/src/writeFileSystemNodePermissions.js","../../node_modules/@jsenv/util/src/readFileSystemNodeStat.js","../../node_modules/@jsenv/util/src/bufferToEtag.js","../../node_modules/@jsenv/util/src/catchCancellation.js","../../node_modules/@jsenv/util/src/readDirectory.js","../../node_modules/@jsenv/util/src/ensureWindowsDriveLetter.js","../../node_modules/@jsenv/util/src/writeSymbolicLink.js","../../node_modules/@jsenv/node-signals/src/SIGUPSignal.js","../../node_modules/@jsenv/node-signals/src/SIGINTSignal.js","../../node_modules/@jsenv/node-signals/src/SIGTERMSignal.js","../../node_modules/@jsenv/node-signals/src/beforeExitSignal.js","../../node_modules/@jsenv/node-signals/src/exitSignal.js","../../node_modules/@jsenv/node-signals/src/teardownSignal.js","../../node_modules/@jsenv/node-signals/src/internal/firstOperationMatching.js","../../node_modules/@jsenv/node-signals/src/unadvisedCrashSignal.js","../../node_modules/@jsenv/util/src/memoize.js","../../node_modules/@jsenv/util/src/readFile.js","../../node_modules/@jsenv/util/src/internal/createWatcher.js","../../node_modules/@jsenv/util/src/registerDirectoryLifecycle.js","../../src/jsenvContentTypeMap.js","../../src/urlToContentType.js","../../src/serveFile.js","../../src/fetchUrl.js","../../src/internal/listen.js","../../src/findFreePort.js","../../src/firstService.js","../../src/jsenvAccessControlAllowedHeaders.js","../../src/jsenvAccessControlAllowedMethods.js","../../src/jsenvSignature.js","../../src/urlToSearchParamValue.js","../../src/internal/createTracker.js","../../src/internal/urlToOrigin.js","../../src/internal/createServer.js","../../src/internal/trackServerPendingConnections.js","../../src/internal/trackServerPendingRequests.js","../../src/internal/nodeStreamToObservable.js","../../src/internal/normalizeHeaderName.js","../../src/internal/normalizeHeaderValue.js","../../src/internal/headersFromObject.js","../../src/internal/nodeRequestToRequest.js","../../src/internal/valueToObservable.js","../../src/internal/populateNodeResponse.js","../../src/internal/colorizeResponseStatus.js","../../src/internal/originAsString.js","../../src/stopReasons.js","../../src/startServer.js"],"sourcesContent":null,"names":["acceptsContentType","acceptHeader","contentType","split","some","acceptRaw","accept","parseAccept","typeMatches","type","acceptTrimmed","trim","scoreIndex","indexOf","score","beforeScore","slice","afterScore","length","parseFloat","pattern","typeComposition","decomposeType","patternComposition","subtype","fullType","parts","compositionMappingToComposeStrict","compositionMapping","createInitial","reducer","compositionMappingToStrictReducer","objects","reduce","propertyComposeStrict","key","previous","current","propertyExistInCurrent","propertyExistInPrevious","composeProperty","composed","Object","keys","forEach","compositionMappingToCompose","compositionMappingToReducer","propertyHasComposer","composerForProperty","composeHeaderValues","value","nextValue","headerValues","includes","push","join","headerCompositionMapping","composeResponseHeaders","responseCompositionMapping","status","prevStatus","statusText","prevStatusText","headers","body","prevBody","bodyEncoding","prevEncoding","encoding","composeResponse","convertFileSystemErrorToResponseProperties","error","isErrorWithCode","Promise","reject","code","LOG_LEVEL_OFF","LOG_LEVEL_DEBUG","LOG_LEVEL_INFO","LOG_LEVEL_WARN","LOG_LEVEL_ERROR","createLogger","logLevel","debug","info","warn","debugDisabled","infoDisabled","warnDisabled","errorDisabled","Error","console","Symbol","observable","for","createObservable","subscribe","next","complete","subscription","isObservable","undefined","createSSERoom","keepaliveDuration","retryDuration","historyLength","maxConnectionAllowed","logger","connections","Set","history","createEventHistory","previousEventId","state","interval","connect","lastKnownId","size","joinEvent","id","retry","data","Date","toLocaleTimeString","add","events","since","event","stringifySourceEvent","connection","write","unsubscribe","delete","sendEvent","keepAlive","start","setInterval","stop","clearInterval","reset","string","limit","removedCount","shift","index","parseInt","isNaN","TypeError","nodeRequire","require","filenameContainsBackSlashes","__filename","url","replace","createCancellationToken","register","callback","unregister","throwIfRequested","cancellationRequested","memoizeOnce","compute","locked","lockValue","memoized","args","deleteCache","createOperation","cancellationToken","rest","unknownArgumentNames","promise","resolve","cancelPromise","cancelRegistration","cancelError","then","operationPromise","race","createStoppableOperation","stopInternal","reason","firstOperationMatching","array","predicate","visit","input","returnValue","output","createCancelError","name","isCancelError","composeCancellationToken","tokens","registrationArray","i","token","registration","compositeRegistration","requested","internalRegistration","parentCancelError","arrayWithout","item","arrayWithoutItem","createCancellationSource","cancel","registrationArrayCopy","existingRegistration","find","ensureUrlTrailingSlash","endsWith","isFileSystemPath","startsWithWindowsDriveLetter","firstChar","test","secondChar","fileSystemPathToUrl","String","pathToFileURL","assertAndNormalizeDirectoryUrl","urlString","URL","href","e","startsWith","assertAndNormalizeFileUrl","baseUrl","urlToFileSystemPath","fileUrl","fileSystemPath","fileURLToPath","S_IRUSR","S_IWUSR","S_IXUSR","S_IRGRP","S_IWGRP","S_IXGRP","S_IROTH","S_IWOTH","S_IXOTH","permissionsToBinaryFlags","owner","group","others","binaryFlags","read","execute","writeFileSystemNodePermissions","source","permissions","sourceUrl","sourcePath","getPermissionOrComputeDefault","chmodNaive","chmod","actionLevels","subjectLevels","action","subject","subjectPermissions","actionLevel","actionFallback","actionFallbackCandidate","subjectLevel","subjectFallback","subjectFallbackCandidate","isWindows","process","platform","readFileSystemNodeStat","nullIfNotFound","followLink","handleNotFoundOption","handleNotFoundError","readStat","handlePermissionDeniedError","stats","nodeMethod","stat","lstat","statsObject","ETAG_FOR_EMPTY_CONTENT","bufferToEtag","buffer","Buffer","isBuffer","hash","createHash","update","hashBase64String","digest","hashBase64StringSubset","toString","catchCancellation","asyncFn","catch","readDirectory","emfileMaxWait","directoryUrl","directoryPath","startMs","now","attemptCount","attempt","readdirNaive","handleTooManyFilesOpenedError","nowMs","timeSpentWaiting","setTimeout","readdir","names","baseUrlFallback","cwd","addCallback","triggerHangUpOrDeath","once","removeListener","SIGUPSignal","SIGINTSignal","triggerTermination","SIGTERMSignal","beforeExitCallbackArray","uninstall","install","filter","beforeExitCallback","onBeforeExit","beforeExitSignal","collectExceptions","exitCallback","on","getExceptions","trackExceptions","exceptionArray","map","exception","origin","unhandledRejectionCallback","unhandledRejection","rejectionHandledCallback","uncaughtExceptionCallback","uncaughtException","exitSignal","eventRace","SIGHUP","SIGINT","SIGTERM","beforeExit","exit","eventMap","unregisterMap","unregisterAll","teardownSignal","createArrayErrorMessage","createStartErrorMessage","createPredicateErrorMessage","recoverCallbackArray","recoverCallback","onUncaughtException","triggerUncaughtException","onUnhandledRejection","triggerUnhandledRejection","onRejectionHandled","recoverExceptionMatching","crash","isCrashing","crashReason","resolveRecovering","log","externalRecoverPromise","callbackRecoverPromise","recovered","recoverPromise","unadvisedCrashSignal","memoize","memoizedValue","fnWithMemoization","forget","readFilePromisified","promisify","readFileNode","isLinux","jsenvContentTypeMap","extensions","urlToContentType","contentTypeMap","contentTypeDefault","pathname","extensionWithDot","extname","extension","availableContentTypes","contentTypeForExtension","contentTypeName","readFile","promises","serveFile","method","canReadDirectory","cacheStrategy","clientCacheDisabled","cacheWithMtime","cacheWithETag","cachedDisabled","sourceStat","isDirectory","directoryContentArray","directoryContentJson","JSON","stringify","isFile","fileContentAsBuffer","fileContentEtag","cachedModificationDate","actualModificationDate","dateToSecondsPrecision","mtime","Number","dateToUTCString","createReadStream","date","toUTCString","dateWithSecondsPrecision","setMilliseconds","createRequire","nodeFetch","AbortController","Response","fetchUrl","simplified","options","response","from","standardResponseToSimplifiedResponse","abortController","abort","signal","text","responseToHeaders","listen","server","port","ip","startListening","stopListening","address","close","findFreePort","initialPort","min","max","testUntil","free","portIsFree","nextPort","createServer","listenOperation","stopPromise","firstService","callbacks","serviceGeneratedResponsePredicate","jsenvAccessControlAllowedHeaders","jsenvAccessControlAllowedMethods","jsenvPrivateKey","jsenvPublicKey","jsenvCertificate","urlToSearchParamValue","searchParamName","searchParams","get","createTracker","callbackArray","registerCleanupCallback","cleanup","localCallbackArray","all","urlToOrigin","http2","http1Allowed","protocol","privateKey","certificate","createSecureServer","cert","allowHTTP1","trackServerPendingConnections","nodeServer","onConnectionError","pendingConnections","connectionListener","Array","pendingConnection","destroy","trackServerPendingRequests","pendingClients","requestListener","nodeRequest","nodeResponse","client","headersSent","writeHead","closed","nodeStreamToObservable","nodeStream","normalizeHeaderName","headerName","toLowerCase","normalizeHeaderValue","headerValue","headersFromObject","headersObject","nodeRequestToRequest","serverCancellationToken","serverOrigin","ressource","freeze","nodeRequestToCancellationToken","valueToObservable","populateNodeResponse","ignoreBody","ignoreStatusTest","nodeHeaders","headersToNodeHeaders","end","setEncoding","bodyToObservable","emit","mapping","nodeHeaderName","isNodeStream","Stream","Writable","Readable","red","green","yellow","magenta","cyan","colorizeResponseStatus","statusType","statusToType","statusIsInformation","statusIsSuccess","statusIsRedirection","statusIsClientError","statusIsServerError","originAsString","hostname","createReason","reasonString","STOP_REASON_INTERNAL_ERROR","STOP_REASON_PROCESS_SIGHUP","STOP_REASON_PROCESS_SIGTERM","STOP_REASON_PROCESS_SIGINT","STOP_REASON_PROCESS_BEFORE_EXIT","STOP_REASON_PROCESS_EXIT","STOP_REASON_NOT_SPECIFIED","killPort","startServer","serverName","forcePort","stopOnSIGINT","stopOnExit","stopOnInternalError","stopOnCrash","keepProcessAlive","requestToResponse","accessControlAllowedOrigins","accessControlAllowedMethods","accessControlAllowedHeaders","accessControlAllowRequestOrigin","accessControlAllowRequestMethod","accessControlAllowRequestHeaders","accessControlAllowCredentials","accessControlMaxAge","sendInternalErrorStack","internalErrorToResponseProperties","stack","byteLength","startedCallback","stoppedCallback","errorIsCancellation","internalCancellationSource","externalCancellationToken","internalCancellationToken","onError","composePredicate","tearDownReason","unref","stoppedResolve","stoppedPromise","startOperation","_","connectionsTracker","pendingRequestsTracker","requestCallback","request","getResponse","Boolean","stream","corsEnabled","generateResponseDescription","createContentLengthMismatchError","responsePropertiesToResponse","statusToStatusText","accessControlHeaders","generateAccessControlHeaders","responseProperties","getStatus","STATUS_CODES","message","vary","allowedOriginArray","referer","allowedMethodArray","requestMethodName","allowedHeaderArray","requestHeaderNameArray","headerNameLowerCase","previousPredicate"],"mappings":"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"}